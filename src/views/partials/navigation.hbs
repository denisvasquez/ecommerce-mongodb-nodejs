
<link rel="stylesheet" href="/css/navigation.css">
<nav class="navigation" id="navbar">
	<div class="side">
		{{#if user}}
			<h2 class="header">Bienvenido <strong><i><a style="text-decoration: none; color: #0089ff;" href="/profile">{{this.user.email}}</a></i></strong></h2>
				{{else}}
				<h2 class="header">Bienvenido</h2>
		{{/if}}
		<div class="menu">
			<Button class="btn-menu" id="btn-menu">
				<i class="fas fa-bars"></i>
			</Button>
		</div>
	</div>
	<ul class="btns-nav">
		<li><a href="/">Inicio</a></li>
		<li><a href="/buy">Compra</a></li>
		<li><a href="/comments">Comentarios</a></li>
		{{#if user}}
			<li><a href="/profile">Perfil</a></li>
			<li><a href="/logout">Cerrar Sesion</a></li>
		{{else}}
			<li><a href="/profile">Iniciar Sesion</a></li>
		{{/if}}
	</ul>
</nav>
{{#if user}}
<script>
	const navigation = document.getElementById("navbar");
	const btn = document.getElementById("btn-menu");
	let click = 0;
	let ubication = window.pageYOffset;

	window.addEventListener('resize', () => {
		if (document.body.clientWidth >= 780) {
			navigation.style.height = '55px';
			btn.style.transform = 'rotate(0deg)';
		} else {
			if (document.body.clientWidth <= 780) {
				navigation.style.height = '55px';
				btn.style.transform = 'rotate(0deg)';
			}
		}
	})

	btn.onclick = () => {
		if (click == 0) {
			navigation.style.height = '315px';
			btn.style.transform = 'rotate(-90deg)';
			click = 1;
		} else {
			navigation.style.height = '55px';
			btn.style.transform = 'rotate(0deg)';
			click = 0;
		}
	}

	window.onscroll = () => {
		let desp = window.pageYOffset;

		if (ubication >= desp) {
			navigation.style.top = "0px";
		} else {
			navigation.style.top = "-100px"
			navigation.style.height = "55px"
			btn.style.transform = 'rotate(0deg)'
		}
		ubication = desp;
	}

</script>
{{else}}
<script>
	const navigation = document.getElementById("navbar");
	const btn = document.getElementById("btn-menu");
	let click = 0;
	let ubication = window.pageYOffset;

	window.addEventListener('resize', () => {
		if (document.body.clientWidth >= 780) {
			navigation.style.height = '55px';
			btn.style.transform = 'rotate(0deg)';
		} else {
			if (document.body.clientWidth <= 780) {
				navigation.style.height = '55px';
				btn.style.transform = 'rotate(0deg)';
			}
		}
	})

	btn.onclick = () => {
		if (click == 0) {
			navigation.style.height = '265px';
			btn.style.transform = 'rotate(-90deg)';
			click = 1;
		} else {
			navigation.style.height = '55px';
			btn.style.transform = 'rotate(0deg)';
			click = 0;
		}
	}

	window.onscroll = () => {
		let desp = window.pageYOffset;

		if (ubication >= desp) {
			navigation.style.top = "0px";
		} else {
			navigation.style.top = "-100px"
			navigation.style.height = "55px"
			btn.style.transform = 'rotate(0deg)'
		}
		ubication = desp;
	}

</script>
{{/if}}
